!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@hupo/core-global")):"function"==typeof define&&define.amd?define(["exports","@hupo/core-global"],r):r((e=e||self)["core-promise"]={},e.global)}(this,function(e,n){"use strict";function s(e,r,t,n,o,u,i){try{var c=e[u](i),s=c.value}catch(e){return void t(e)}c.done?r(s):Promise.resolve(s).then(n,o)}n=n&&n.hasOwnProperty("default")?n.default:n;function o(e){return Promise.reject(new Error(e))}function r(e){n.promise[e]&&(n.promise[e]=null,delete n.promise[e])}function t(r){return new Promise(function(e){setTimeout(e,r)})}var u=function(){var t=function(c){return function(){var e=this,i=arguments;return new Promise(function(r,t){var n=c.apply(e,i);function o(e){s(n,r,t,o,u,"next",e)}function u(e){s(n,r,t,o,u,"throw",e)}o(void 0)})}}(regeneratorRuntime.mark(function e(r,t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.promise||(n.promise={}),n.promise[r]||(n.promise[r]=t()),e.prev=2,e.next=5,n.promise[r];case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),n.promise[r]=null,delete n.promise[r],e.abrupt("return",o(e.t0));case 13:case"end":return e.stop()}},e,null,[[2,8]])}));return function(e,r){return t.apply(this,arguments)}}(),i={exit:o,cache:u,del:r,delay:t};e.cache=u,e.default=i,e.del=r,e.delay=t,e.exit=o,Object.defineProperty(e,"__esModule",{value:!0})});
