{"version":3,"file":"index.js","sources":["../dist-src/index.js"],"sourcesContent":["import global from '@hupo/core-global';\nexport const exit = message => Promise.reject(new Error(message));\nexport const cache = async (id, promise) => {\n  if (!global.promise) global.promise = {};\n\n  if (!global.promise[id]) {\n    global.promise[id] = promise;\n  }\n\n  try {\n    return await global.promise[id];\n  } catch (error) {\n    global.promise[id] = null;\n    delete global.promise[id];\n    return exit(error);\n  }\n};\nexport const del = id => {\n  if (global.promise[id]) {\n    global.promise[id] = null;\n    delete global.promise[id];\n  }\n};\nexport const delay = time => new Promise(resolve => {\n  setTimeout(resolve, time);\n});\nexport default {\n  exit,\n  cache,\n  del,\n  delay\n};"],"names":["exit","message","Promise","reject","Error","cache","id","promise","global","error","del","delay","time","resolve","setTimeout"],"mappings":";;;;;;;;MACaA,IAAI,GAAGC,OAAO,IAAIC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAUH,OAAV,CAAf,CAAxB;AACP,MAAaI,KAAK,GAAG,OAAOC,EAAP,EAAWC,OAAX,KAAuB;MACtC,CAACC,MAAM,CAACD,OAAZ,EAAqBC,MAAM,CAACD,OAAP,GAAiB,EAAjB;;MAEjB,CAACC,MAAM,CAACD,OAAP,CAAeD,EAAf,CAAL,EAAyB;IACvBE,MAAM,CAACD,OAAP,CAAeD,EAAf,IAAqBC,OAArB;;;MAGE;WACK,MAAMC,MAAM,CAACD,OAAP,CAAeD,EAAf,CAAb;GADF,CAEE,OAAOG,KAAP,EAAc;IACdD,MAAM,CAACD,OAAP,CAAeD,EAAf,IAAqB,IAArB;WACOE,MAAM,CAACD,OAAP,CAAeD,EAAf,CAAP;WACON,IAAI,CAACS,KAAD,CAAX;;CAZG;AAeP,MAAaC,GAAG,GAAGJ,EAAE,IAAI;MACnBE,MAAM,CAACD,OAAP,CAAeD,EAAf,CAAJ,EAAwB;IACtBE,MAAM,CAACD,OAAP,CAAeD,EAAf,IAAqB,IAArB;WACOE,MAAM,CAACD,OAAP,CAAeD,EAAf,CAAP;;CAHG;AAMP,MAAaK,KAAK,GAAGC,IAAI,IAAI,IAAIV,OAAJ,CAAYW,OAAO,IAAI;EAClDC,UAAU,CAACD,OAAD,EAAUD,IAAV,CAAV;CAD2B,CAAtB;AAGP,YAAe;EACbZ,IADa;EAEbK,KAFa;EAGbK,GAHa;EAIbC;CAJF;;;;;;;;"}