{"version":3,"file":"index.js","sources":["../dist-src/defaultData.js","../dist-src/index.js"],"sourcesContent":["export default (() => {\n  return {\n    pixelRatio: 2,\n    capsuleHeight: 40,\n    // 胶囊高度\n    statusBarHeight: 0,\n    // 手机顶部状态栏高度\n    headerHeight: 0,\n    // 整个导航头高度\n    bottomHeight: 0,\n    isAllScreen: false,\n    // 是否是全面屏手机\n    isHighHead: false // 是否是刘海屏手机\n\n  };\n});","import defaultData from \"./defaultData.js\";\nimport { channel, channels } from '@hupo/core-channel';\n\nconst calculate = () => {\n  const data = defaultData();\n  let system;\n\n  try {\n    system = uni.getSystemInfoSync();\n  } catch (e) {\n    return calculate();\n  }\n\n  data.pixelRatio = system.pixelRatio;\n  const rpxRatio = 750 / system.screenWidth;\n\n  const rpx2px = rpx => rpx / rpxRatio;\n\n  const px2rpx = rpx => rpx * rpxRatio; // #ifdef MP-WEIXIN\n\n\n  if (system.platform == 'devtools') {\n    data.capsuleHeight = px2rpx(44);\n  } else if (system.platform == 'android') {\n    data.capsuleHeight = px2rpx(48);\n  }\n\n  data.statusBarHeight = px2rpx(system.statusBarHeight);\n  if (system.screenHeight - data.statusBarHeight > 750 && system.platform != 'android') data.isAllScreen = true; // #endif\n  // #ifdef H5\n\n  const isAllScreen = () => /iphone/gi.test(window.navigator.userAgent) && window.screen.height >= 812;\n\n  if (isAllScreen()) data.isAllScreen = true;\n  data.capsuleHeight = px2rpx(data.capsuleHeight);\n\n  if (channel === channels.WX_H5) {\n    data.capsuleHeight = 0;\n  } // #endif\n\n\n  if (system.statusBarHeight >= 44) {\n    data.isHighHead = true;\n  }\n\n  data.headerHeight = data.statusBarHeight + data.capsuleHeight; // 全面屏 底部留空距离 34px\n\n  data.bottomHeight = data.isAllScreen ? px2rpx(34) : 0;\n  data.rpx2px = rpx2px;\n  data.px2rpx = px2rpx;\n  return data;\n};\n\nexport const viewport = calculate();"],"names":["pixelRatio","capsuleHeight","statusBarHeight","headerHeight","bottomHeight","isAllScreen","isHighHead","calculate","data","defaultData","system","uni","getSystemInfoSync","e","rpxRatio","screenWidth","rpx2px","rpx","px2rpx","platform","screenHeight","test","window","navigator","userAgent","screen","height","channel","channels","WX_H5","viewport"],"mappings":";;;;;;AAAA,mBAAgB,MAAM;SACb;IACLA,UAAU,EAAE,CADP;IAELC,aAAa,EAAE,EAFV;;IAILC,eAAe,EAAE,CAJZ;;IAMLC,YAAY,EAAE,CANT;;IAQLC,YAAY,EAAE,CART;IASLC,WAAW,EAAE,KATR;;IAWLC,UAAU,EAAE,KAXP;;GAAP;CADF;;ACGA,MAAMC,SAAS,GAAG,MAAM;QAChBC,IAAI,GAAGC,WAAW,EAAxB;MACIC,MAAJ;;MAEI;IACFA,MAAM,GAAGC,GAAG,CAACC,iBAAJ,EAAT;GADF,CAEE,OAAOC,CAAP,EAAU;WACHN,SAAS,EAAhB;;;EAGFC,IAAI,CAACR,UAAL,GAAkBU,MAAM,CAACV,UAAzB;QACMc,QAAQ,GAAG,MAAMJ,MAAM,CAACK,WAA9B;;QAEMC,MAAM,GAAGC,GAAG,IAAIA,GAAG,GAAGH,QAA5B;;QAEMI,MAAM,GAAGD,GAAG,IAAIA,GAAG,GAAGH,QAA5B,CAfsB;;;MAkBlBJ,MAAM,CAACS,QAAP,IAAmB,UAAvB,EAAmC;IACjCX,IAAI,CAACP,aAAL,GAAqBiB,MAAM,CAAC,EAAD,CAA3B;GADF,MAEO,IAAIR,MAAM,CAACS,QAAP,IAAmB,SAAvB,EAAkC;IACvCX,IAAI,CAACP,aAAL,GAAqBiB,MAAM,CAAC,EAAD,CAA3B;;;EAGFV,IAAI,CAACN,eAAL,GAAuBgB,MAAM,CAACR,MAAM,CAACR,eAAR,CAA7B;MACIQ,MAAM,CAACU,YAAP,GAAsBZ,IAAI,CAACN,eAA3B,GAA6C,GAA7C,IAAoDQ,MAAM,CAACS,QAAP,IAAmB,SAA3E,EAAsFX,IAAI,CAACH,WAAL,GAAmB,IAAnB,CAzBhE;;;QA4BhBA,WAAW,GAAG,MAAM,WAAWgB,IAAX,CAAgBC,MAAM,CAACC,SAAP,CAAiBC,SAAjC,KAA+CF,MAAM,CAACG,MAAP,CAAcC,MAAd,IAAwB,GAAjG;;MAEIrB,WAAW,EAAf,EAAmBG,IAAI,CAACH,WAAL,GAAmB,IAAnB;EACnBG,IAAI,CAACP,aAAL,GAAqBiB,MAAM,CAACV,IAAI,CAACP,aAAN,CAA3B;;MAEI0B,mBAAO,KAAKC,oBAAQ,CAACC,KAAzB,EAAgC;IAC9BrB,IAAI,CAACP,aAAL,GAAqB,CAArB;GAlCoB;;;MAsClBS,MAAM,CAACR,eAAP,IAA0B,EAA9B,EAAkC;IAChCM,IAAI,CAACF,UAAL,GAAkB,IAAlB;;;EAGFE,IAAI,CAACL,YAAL,GAAoBK,IAAI,CAACN,eAAL,GAAuBM,IAAI,CAACP,aAAhD,CA1CsB;;EA4CtBO,IAAI,CAACJ,YAAL,GAAoBI,IAAI,CAACH,WAAL,GAAmBa,MAAM,CAAC,EAAD,CAAzB,GAAgC,CAApD;EACAV,IAAI,CAACQ,MAAL,GAAcA,MAAd;EACAR,IAAI,CAACU,MAAL,GAAcA,MAAd;SACOV,IAAP;CA/CF;;AAkDA,MAAasB,QAAQ,GAAGvB,SAAS,EAA1B;;;;"}