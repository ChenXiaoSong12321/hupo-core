{"version":3,"file":"index.js","sources":["../dist-src/defaultData.js","../dist-src/index.js"],"sourcesContent":["export default (() => {\n  return {\n    pixelRatio: 2,\n    capsuleHeight: 40,\n    // 胶囊高度\n    statusBarHeight: 0,\n    // 手机顶部状态栏高度\n    headerHeight: 0,\n    // 整个导航头高度\n    bottomHeight: 0,\n    isAllScreen: false,\n    // 是否是全面屏手机\n    isHighHead: false // 是否是刘海屏手机\n\n  };\n});","import defaultData from \"./defaultData.js\";\nimport { channel, channels } from '@hupo/core-channel';\n\nconst calculate = () => {\n  const data = defaultData();\n  let system;\n\n  try {\n    system = uni.getSystemInfoSync();\n  } catch (e) {\n    return calculate();\n  }\n\n  data.pixelRatio = system.pixelRatio;\n  data.rpxRatio = 750 / system.screenWidth; // #ifdef MP-WEIXIN\n\n  if (system.platform == 'devtools') {\n    data.capsuleHeight = 44 * data.rpxRatio;\n  } else if (system.platform == 'android') {\n    data.capsuleHeight = 48 * data.rpxRatio;\n  }\n\n  data.statusBarHeight = system.statusBarHeight * data.rpxRatio;\n  if (system.screenHeight - data.statusBarHeight > 750 && system.platform != 'android') data.isAllScreen = true; // #endif\n  // #ifdef H5\n\n  const isAllScreen = () => /iphone/gi.test(window.navigator.userAgent) && window.screen.height >= 812;\n\n  if (isAllScreen()) data.isAllScreen = true;\n  data.capsuleHeight = data.capsuleHeight * data.rpxRatio;\n\n  if (channel === channels.WX_H5) {\n    data.capsuleHeight = 0;\n  } // #endif\n\n\n  if (system.statusBarHeight >= 44) {\n    data.isHighHead = true;\n  }\n\n  data.headerHeight = data.statusBarHeight + data.capsuleHeight; // 全面屏 底部留空距离 34px\n\n  data.bottomHeight = data.isAllScreen ? 34 * data.rpxRatio : 0;\n  return data;\n};\n\nexport const viewport = calculate();"],"names":["pixelRatio","capsuleHeight","statusBarHeight","headerHeight","bottomHeight","isAllScreen","isHighHead","calculate","data","defaultData","system","uni","getSystemInfoSync","e","rpxRatio","screenWidth","platform","screenHeight","test","window","navigator","userAgent","screen","height","channel","channels","WX_H5","viewport"],"mappings":";;;;;;AAAA,mBAAgB,MAAM;SACb;IACLA,UAAU,EAAE,CADP;IAELC,aAAa,EAAE,EAFV;;IAILC,eAAe,EAAE,CAJZ;;IAMLC,YAAY,EAAE,CANT;;IAQLC,YAAY,EAAE,CART;IASLC,WAAW,EAAE,KATR;;IAWLC,UAAU,EAAE,KAXP;;GAAP;CADF;;ACGA,MAAMC,SAAS,GAAG,MAAM;QAChBC,IAAI,GAAGC,WAAW,EAAxB;MACIC,MAAJ;;MAEI;IACFA,MAAM,GAAGC,GAAG,CAACC,iBAAJ,EAAT;GADF,CAEE,OAAOC,CAAP,EAAU;WACHN,SAAS,EAAhB;;;EAGFC,IAAI,CAACR,UAAL,GAAkBU,MAAM,CAACV,UAAzB;EACAQ,IAAI,CAACM,QAAL,GAAgB,MAAMJ,MAAM,CAACK,WAA7B,CAXsB;;MAalBL,MAAM,CAACM,QAAP,IAAmB,UAAvB,EAAmC;IACjCR,IAAI,CAACP,aAAL,GAAqB,KAAKO,IAAI,CAACM,QAA/B;GADF,MAEO,IAAIJ,MAAM,CAACM,QAAP,IAAmB,SAAvB,EAAkC;IACvCR,IAAI,CAACP,aAAL,GAAqB,KAAKO,IAAI,CAACM,QAA/B;;;EAGFN,IAAI,CAACN,eAAL,GAAuBQ,MAAM,CAACR,eAAP,GAAyBM,IAAI,CAACM,QAArD;MACIJ,MAAM,CAACO,YAAP,GAAsBT,IAAI,CAACN,eAA3B,GAA6C,GAA7C,IAAoDQ,MAAM,CAACM,QAAP,IAAmB,SAA3E,EAAsFR,IAAI,CAACH,WAAL,GAAmB,IAAnB,CApBhE;;;QAuBhBA,WAAW,GAAG,MAAM,WAAWa,IAAX,CAAgBC,MAAM,CAACC,SAAP,CAAiBC,SAAjC,KAA+CF,MAAM,CAACG,MAAP,CAAcC,MAAd,IAAwB,GAAjG;;MAEIlB,WAAW,EAAf,EAAmBG,IAAI,CAACH,WAAL,GAAmB,IAAnB;EACnBG,IAAI,CAACP,aAAL,GAAqBO,IAAI,CAACP,aAAL,GAAqBO,IAAI,CAACM,QAA/C;;MAEIU,mBAAO,KAAKC,oBAAQ,CAACC,KAAzB,EAAgC;IAC9BlB,IAAI,CAACP,aAAL,GAAqB,CAArB;GA7BoB;;;MAiClBS,MAAM,CAACR,eAAP,IAA0B,EAA9B,EAAkC;IAChCM,IAAI,CAACF,UAAL,GAAkB,IAAlB;;;EAGFE,IAAI,CAACL,YAAL,GAAoBK,IAAI,CAACN,eAAL,GAAuBM,IAAI,CAACP,aAAhD,CArCsB;;EAuCtBO,IAAI,CAACJ,YAAL,GAAoBI,IAAI,CAACH,WAAL,GAAmB,KAAKG,IAAI,CAACM,QAA7B,GAAwC,CAA5D;SACON,IAAP;CAxCF;;AA2CA,MAAamB,QAAQ,GAAGpB,SAAS,EAA1B;;;;"}