{"version":3,"file":"index.js","sources":["../dist-src/defaultData.js","../dist-src/index.js"],"sourcesContent":["export default (() => {\n  return {\n    pixelRatio: 2,\n    capsuleHeight: 40,\n    // 胶囊高度\n    statusBarHeight: 0,\n    // 手机顶部状态栏高度\n    headerHeight: 0,\n    // 整个导航头高度\n    bottomHeight: 0,\n    isAllScreen: false,\n    // 是否是全面屏手机\n    isHighHead: false // 是否是刘海屏手机\n\n  };\n});","import defaultData from \"./defaultData.js\";\nimport { channel, channels } from '@hupo/core-channel';\n\nconst calculate = () => {\n  const data = defaultData();\n  let system;\n\n  try {\n    system = uni.getSystemInfoSync();\n  } catch (e) {\n    return calculate();\n  }\n\n  data.pixelRatio = system.pixelRatio; // #ifdef MP-WEIXIN\n\n  if (system.platform == 'devtools') {\n    data.capsuleHeight = 44 * data.pixelRatio;\n  } else if (system.platform == 'android') {\n    data.capsuleHeight = 48 * data.pixelRatio;\n  }\n\n  data.statusBarHeight = system.statusBarHeight * data.pixelRatio;\n  if (system.screenHeight - data.statusBarHeight > 750 && system.platform != 'android') data.isAllScreen = true; // #endif\n  // #ifdef H5\n\n  const isAllScreen = () => /iphone/gi.test(window.navigator.userAgent) && window.screen.height >= 812;\n\n  if (isAllScreen()) data.isAllScreen = true;\n\n  if (channel === channels.WX_H5) {\n    data.capsuleHeight = 0;\n  } // #endif\n\n\n  if (system.statusBarHeight >= 44) {\n    data.isHighHead = true;\n  }\n\n  data.headerHeight = data.statusBarHeight + data.capsuleHeight; // 全面屏 底部留空距离 34px\n\n  data.bottomHeight = data.isAllScreen ? 34 * data.pixelRatio : 0;\n  return data;\n};\n\nexport const viewport = calculate();"],"names":["pixelRatio","capsuleHeight","statusBarHeight","headerHeight","bottomHeight","isAllScreen","isHighHead","calculate","data","defaultData","system","uni","getSystemInfoSync","e","platform","screenHeight","test","window","navigator","userAgent","screen","height","channel","channels","WX_H5","viewport"],"mappings":";;;;;;AAAA,mBAAgB,MAAM;SACb;IACLA,UAAU,EAAE,CADP;IAELC,aAAa,EAAE,EAFV;;IAILC,eAAe,EAAE,CAJZ;;IAMLC,YAAY,EAAE,CANT;;IAQLC,YAAY,EAAE,CART;IASLC,WAAW,EAAE,KATR;;IAWLC,UAAU,EAAE,KAXP;;GAAP;CADF;;ACGA,MAAMC,SAAS,GAAG,MAAM;QAChBC,IAAI,GAAGC,WAAW,EAAxB;MACIC,MAAJ;;MAEI;IACFA,MAAM,GAAGC,GAAG,CAACC,iBAAJ,EAAT;GADF,CAEE,OAAOC,CAAP,EAAU;WACHN,SAAS,EAAhB;;;EAGFC,IAAI,CAACR,UAAL,GAAkBU,MAAM,CAACV,UAAzB,CAVsB;;MAYlBU,MAAM,CAACI,QAAP,IAAmB,UAAvB,EAAmC;IACjCN,IAAI,CAACP,aAAL,GAAqB,KAAKO,IAAI,CAACR,UAA/B;GADF,MAEO,IAAIU,MAAM,CAACI,QAAP,IAAmB,SAAvB,EAAkC;IACvCN,IAAI,CAACP,aAAL,GAAqB,KAAKO,IAAI,CAACR,UAA/B;;;EAGFQ,IAAI,CAACN,eAAL,GAAuBQ,MAAM,CAACR,eAAP,GAAyBM,IAAI,CAACR,UAArD;MACIU,MAAM,CAACK,YAAP,GAAsBP,IAAI,CAACN,eAA3B,GAA6C,GAA7C,IAAoDQ,MAAM,CAACI,QAAP,IAAmB,SAA3E,EAAsFN,IAAI,CAACH,WAAL,GAAmB,IAAnB,CAnBhE;;;QAsBhBA,WAAW,GAAG,MAAM,WAAWW,IAAX,CAAgBC,MAAM,CAACC,SAAP,CAAiBC,SAAjC,KAA+CF,MAAM,CAACG,MAAP,CAAcC,MAAd,IAAwB,GAAjG;;MAEIhB,WAAW,EAAf,EAAmBG,IAAI,CAACH,WAAL,GAAmB,IAAnB;;MAEfiB,mBAAO,KAAKC,oBAAQ,CAACC,KAAzB,EAAgC;IAC9BhB,IAAI,CAACP,aAAL,GAAqB,CAArB;GA3BoB;;;MA+BlBS,MAAM,CAACR,eAAP,IAA0B,EAA9B,EAAkC;IAChCM,IAAI,CAACF,UAAL,GAAkB,IAAlB;;;EAGFE,IAAI,CAACL,YAAL,GAAoBK,IAAI,CAACN,eAAL,GAAuBM,IAAI,CAACP,aAAhD,CAnCsB;;EAqCtBO,IAAI,CAACJ,YAAL,GAAoBI,IAAI,CAACH,WAAL,GAAmB,KAAKG,IAAI,CAACR,UAA7B,GAA0C,CAA9D;SACOQ,IAAP;CAtCF;;AAyCA,MAAaiB,QAAQ,GAAGlB,SAAS,EAA1B;;;;"}